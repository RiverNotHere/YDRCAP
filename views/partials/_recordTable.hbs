<table class="highlight responsive-table">
  <caption>Latest Records</caption>
  <thead>
    <tr id="th">
      <th>First Name</th>
      <th>Last Name</th>
      <th>Start Time <span class="hide-on-med-and-down">(MM-DD-YYYY hh:mm)</span></th>
      <th>End Time <span class="hide-on-med-and-down">(MM-DD-YYYY hh:mm)</span></th>
      <th>Hours Recorded</th>
      <th>Action</th>
    </tr>
  </thead>

  {{#if records}}
    <tbody>
      {{#each records}}
        <tr>
          <td>{{this.first_name}}</td>
          <td>{{this.last_name}}</td>
          <td>{{formatDate this.start_time}}</td>
          <td>{{formatDate this.end_time}}</td>
          <td>{{sum this.hours_recorded this.additional_hours}}</td>
          <td><button data-target="m-{{this._id}}" class="btn btn-small waves-effect waves-light modal-trigger">Confirm</button></td>
        </tr>
        <!-- Modal Structure -->
        <div id="m-{{this._id}}" class="modal">
          <div class="modal-content">
            <h4>Confirm Record</h4>
            <p>
              Once you confirmed this record, the time will be added to the userâ€™s profile according to the hours recorded
              and will be valid until it gets deleted
            </p>
            <form id="f-{{this._id}}" method="POST" action="/a/confirm-rec?id={{this._id}}&coordinator={{../coordinator_name}}">
              <div class="input-field">
                <label for="ahrs">Additional Hours</label>
                <input type="number" name="ahrs"/>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button class="modal-close waves-effect waves-green btn-flat">Cancel</button>
            <button form="f-{{this._id}}" class="modal-close waves-effect waves-green btn-flat">Confirm</button>
          </div>
        </div>
      {{/each}}
    </tbody>
  {{/if}}
</table>

<script>
  M.Modal.init(document.querySelectorAll('.modal'))
</script>